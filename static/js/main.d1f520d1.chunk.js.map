{"version":3,"sources":["components/ImageGallery.js","components/ImageCard.js","components/Database.js","components/CollectionSelector.js","components/MyGalleries.js","components/CatchError.js","App.js","index.js"],"names":["saveData","ImageCard","props","state","classes","this","Grid","item","xs","sm","md","lg","xl","className","children","Card","root","CardMedia","media","image","url","title","React","Component","withStyles","maxWidth","backgroundColor","height","paddingTop","eraseImg","position","right","GALLERIES","id","name","gotData","ImageGallery","data","currentData","nextProps","nextState","nextContext","JSON","stringify","collectionID","imgID","newCurrentData","filter","newData","i","length","push","setState","container","direction","justify","alignItems","spacing","map","download_url","author","IconButton","onClick","_handlerImg","Promise","all","fetch","then","datas","json","myJson","prevProps","prevState","snapshot","gsap","from","duration","y","opacity","stagger","grid","amount","CollectionSelector","activeCollection","showGallery","throwError","handleOnClick","bind","handleShowGallery","handleError","Error","ButtonGroup","variant","color","aria-label","gallery","Button","MyGalleries","Typography","align","CatchError","hasError","errorMsg","error","errorInfo","console","log","toString","window","location","reload","gutterBottom","App","Container","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1f520d1.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Grid, IconButton } from '@material-ui/core';\r\nimport { gsap } from 'gsap';\r\n\r\nimport ImageCard from './ImageCard';\r\nimport GALLERIES from './Database';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nlet saveData;\r\nlet gotData = false;\r\n\r\nclass ImageGallery extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = { data: [], currentData: [] };\r\n  }\r\n\r\n  //--------------------------------------------------------\r\n  // HERE IS MY COMPONENT SHOULD UPDATE (UPDATING LIFECYCLE)\r\n  //--------------------------------------------------------\r\n  shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n    if (JSON.stringify(nextState.currentData) !== JSON.stringify(this.state.currentData)) {\r\n      return true;\r\n    }\r\n    return this.props.collectionID !== nextProps.collectionID;\r\n  }\r\n\r\n  _handlerImg (imgID) {\r\n    const newCurrentData = this.state.currentData.filter(image => image.id !== imgID);\r\n\r\n    const newData = [];\r\n\r\n    for (let i = 0; i < this.state.data.length; i++) {\r\n      if (i === this.props.collectionID) {\r\n        newData.push(newCurrentData);\r\n      } else {\r\n        newData.push(this.state.data[i]);\r\n      }\r\n    }\r\n\r\n    this.setState({ data: newData, currentData: newCurrentData });\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        spacing={2}\r\n        id={'imgGrid'}\r\n      >\r\n        {this.state.currentData.map((image, id) => (\r\n          <ImageCard key={`${image.id}_${id}`} url={image.download_url} title={image.author}>\r\n            <IconButton key={image.id} className={'eraseImg'}\r\n                        onClick={() => this._handlerImg(image.id)}><CloseIcon/></IconButton>\r\n          </ImageCard>\r\n        ))}\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  //---------------------------------------------------------\r\n  // HERE IS MY COMPONENT WILL UNMOUNT (UNMOUNTING LIFECYCLE)\r\n  //---------------------------------------------------------\r\n  componentWillUnmount () {\r\n    // This saves the current session preventing the app to fetch the data again\r\n    // and load the previous one\r\n    saveData = this.state.data;\r\n  }\r\n\r\n  //---------------------------------------------------\r\n  // HERE IS MY COMPONEN DID MOUNT (MOUNTING LIFECYCLE)\r\n  //---------------------------------------------------\r\n  componentDidMount () {\r\n    if (!gotData) {\r\n      Promise.all([\r\n        fetch(GALLERIES[0].url),\r\n        fetch(GALLERIES[1].url)\r\n      ]).then(datas => Promise.all(datas.map(data => data.json())))\r\n        .then(myJson => this.setState({ data: myJson, currentData: myJson[this.props.collectionID] }));\r\n\r\n      gotData = true;\r\n    } else {\r\n      this.setState({ data: saveData, currentData: saveData[this.props.collectionID] });\r\n    }\r\n  }\r\n\r\n  //-----------------------------------------------------\r\n  // HERE IS MY COMPONENT DID UPDATE (UPDATING LIFECYCLE)\r\n  //-----------------------------------------------------\r\n  componentDidUpdate (prevProps, prevState, snapshot) {\r\n    gsap.from('.imageCard', {\r\n      duration: 1, y: 10, opacity: 0.1, stagger: {\r\n        grid: [7, 15],\r\n        from: 'random',\r\n        amount: 0.5\r\n      }\r\n    });\r\n    this.setState({ currentData: this.state.data[this.props.collectionID] });\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\n\r\nimport {\r\n  Card,\r\n  Grid,\r\n  CardMedia,\r\n  withStyles\r\n} from '@material-ui/core';\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    maxWidth: '100%',\r\n    backgroundColor: 'transparent'\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%' // 16:9\r\n  },\r\n  eraseImg: {\r\n    position: 'absolute',\r\n    right: 10\r\n  }\r\n});\r\n\r\nclass ImageCard extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render () {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Grid item xs={6} sm={6} md={4} lg={4} xl={3} className={'imageCard'}>\r\n        {this.props.children}\r\n        <Card className={classes.root}>\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={this.props.url}\r\n            title={this.props.title}\r\n          />\r\n        </Card>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ImageCard);\r\n","const GALLERIES = [\r\n  {\r\n    id: 0,\r\n    name: 'My 1st travel',\r\n    url: 'https://picsum.photos/v2/list?page=2&limit=10'\r\n  },\r\n  {\r\n    id: 1,\r\n    name: 'A real adventure',\r\n    url: 'https://picsum.photos/v2/list?page=5&limit=5'\r\n  }\r\n];\r\n\r\nexport default GALLERIES;\r\n","import React from 'react';\r\n\r\nimport ImageGallery from './ImageGallery';\r\nimport GALLERIES from './Database';\r\nimport BugReportIcon from '@material-ui/icons/BugReport';\r\n\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  IconButton\r\n} from '@material-ui/core';\r\n\r\nclass CollectionSelector extends React.Component {\r\n  //---------------------------------------------\r\n  // HERE IS MY CONSTRUCTOR (MOUNTING LIFECYCLE)\r\n  //---------------------------------------------\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = { activeCollection: 0, showGallery: true, throwError: false };\r\n    this.handleOnClick = this.handleOnClick.bind(this);\r\n    this.handleShowGallery = this.handleShowGallery.bind(this);\r\n    this.handleError = this.handleError.bind(this);\r\n  }\r\n\r\n  handleOnClick (collectionID) {\r\n    this.setState({ activeCollection: collectionID });\r\n  }\r\n\r\n  handleShowGallery () {\r\n    this.setState({ showGallery: !this.state.showGallery });\r\n  }\r\n\r\n  handleError () {\r\n    this.setState({ throwError: true });\r\n  }\r\n\r\n  //---------------------------------------\r\n  // HERE IS MY RENDER (MOUNTING LIFECYCLE)\r\n  //---------------------------------------\r\n  render () {\r\n    if (this.state.throwError) {\r\n      throw new Error('Oh no! Something very bad happened :c');\r\n    }\r\n    \r\n    return (\r\n      <>\r\n        <ButtonGroup variant=\"contained\" color=\"primary\" aria-label=\"contained primary button group\" id={'collections'}>\r\n          {GALLERIES.map((gallery, id) => (\r\n            <Button key={`${gallery.id}_${id}`} onClick={() => this.handleOnClick(id)}>{gallery.name}</Button>\r\n          ))}\r\n        </ButtonGroup>\r\n\r\n        <Button variant=\"contained\" onClick={this.handleShowGallery}>Hide Gallery</Button>\r\n        <IconButton variant=\"contained\" color={'secondary'} onClick={this.handleError}><BugReportIcon/></IconButton>\r\n\r\n        {this.state.showGallery ?\r\n          <ImageGallery collectionID={this.state.activeCollection}/>\r\n          :\r\n          null\r\n        }\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CollectionSelector;\r\n","import React from 'react';\r\nimport CollectionSelector from './CollectionSelector';\r\n\r\nimport {\r\n  Typography\r\n} from '@material-ui/core';\r\n\r\nclass MyGalleries extends React.Component {\r\n  render () {\r\n    return (\r\n      <>\r\n        <Typography variant={'h6'} align={'center'} className={'media-title'} color={'secondary'}>\r\n          Select a collection\r\n        </Typography>\r\n\r\n        <CollectionSelector/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyGalleries;\r\n","import React, { Component } from 'react';\r\n\r\nimport {\r\n  Typography,\r\n  Button\r\n} from '@material-ui/core';\r\n\r\nclass CatchError extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = { hasError: false, errorMsg: '' };\r\n    this.handleError = this.handleError.bind(this);\r\n  }\r\n\r\n  //--------------------------------------\r\n  // HERE IS MY DID CATCH (ERROR HANDLING)\r\n  //--------------------------------------\r\n  componentDidCatch (error, errorInfo) {\r\n    console.log(error, errorInfo);\r\n    this.setState({ hasError: true, errorMsg: error.toString() });\r\n  }\r\n\r\n  handleError () {\r\n    window.location.reload(true);\r\n  }\r\n\r\n  render () {\r\n    if (this.state.hasError) {\r\n      console.log(5);\r\n      return (\r\n        <>\r\n          <Typography variant={'h1'} align={'center'} gutterBottom>\r\n            ERROR FOUND\r\n          </Typography>\r\n          <Typography variant={'h4'} align={'center'} gutterBottom>\r\n            {this.state.errorMsg}\r\n          </Typography>\r\n\r\n          <Button variant=\"contained\" onClick={this.handleError}>Refresh page</Button>\r\n        </>\r\n      );\r\n    }\r\n\r\n    return (\r\n      this.props.children\r\n    );\r\n  }\r\n}\r\n\r\nexport default CatchError;\r\n","import React from 'react';\nimport './App.css';\n\nimport MyGalleries from './components/MyGalleries';\nimport CatchError from './components/CatchError';\n\nimport {\n  Container,\n  Typography\n} from '@material-ui/core';\n\nclass App extends React.Component {\n  render () {\n    return (\n\n      <>\n        <div id={'gallery-title'}>\n          <div id={'bigtext'}>\n            <Typography variant={'h3'} align={'center'}>\n              PHOTO\n            </Typography>\n            <Typography variant={'h3'} align={'center'} className={'media-title'} color={'primary'}>\n              MEDIA\n            </Typography>\n          </div>\n          <Typography variant={'h4'} align={'center'} gutterBottom>\n            Your own private gallery\n          </Typography>\n        </div>\n\n        <Container className=\"App\">\n          <CatchError>\n            <MyGalleries/>\n          </CatchError>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}